/* UIX Presentation overrides for Massively/Miniport template and fixed TOC sidebar */
:root {
  --bg: #000000;          /* black */
  --panel: #0b0b0b;       /* near-black */
  --panel-2: #101010;     /* slightly lighter for contrast */
  --text: #f5f5f5;        /* soft white */
  --muted: #d0d0d0;       /* lighter gray for notes */
  --accent: #d4af37;      /* gold */
  --accent-strong: #ffd34d; /* brighter gold for links/buttons */
  --border: rgba(212, 175, 55, 0.45);
}

/* Base dark theme and typography */
html, body {
  background: var(--bg) !important;
  color: var(--text) !important;
  font-size: 16px;
  line-height: 1.65;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Ensure template containers inherit readable color */
.container, .wrapper, .wrapper .container, #page-wrap { color: var(--text) !important; }

body, p, li { color: var(--text) !important; }

/* Links with good contrast */
a { color: var(--accent-strong) !important; text-decoration: none; }
a:hover, a:focus { text-decoration: underline; }
a:focus { outline: 2px dashed var(--accent-strong); outline-offset: 2px; }

/* Headings */
h1, h2, h3, h4, h5, h6 { color: #ffffff !important; }
h2 { border-color: var(--border); }
h3 { color: var(--accent) !important; }

/* Template wrappers: keep dark backgrounds and readable colors */
.wrapper.style1, .wrapper.style2, .wrapper.style3, .wrapper.style4 { 
  background: transparent !important; 
  color: var(--text) !important; 
}

/* Reduce vertical spacing on header/hero wrappers globally */
.wrapper { padding: 1.25rem 0 !important; }
.wrapper.style1, .wrapper.style2, .wrapper.style3, .wrapper.style4 { padding: 1.25rem 0 !important; }
#top.wrapper.style1 { padding: 1.25rem 0 !important; }
#top .container header { margin: 0 0 .5rem !important; }
#top .container header h1 { margin: 0 !important; }
#top .container header p { margin: .25rem 0 0 !important; }

/* Fixed sidebar for table of contents */
.toc-sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 260px;
  background: var(--panel);
  border-right: 1px solid var(--border);
  padding: 1rem 1rem 2rem;
  overflow-y: auto;
  z-index: 1000;
}

.toc-sidebar .logo {
  display: flex;
  align-items: center;
  gap: .6rem;
  font-weight: 700;
  color: var(--text);
  text-decoration: none;
  margin-bottom: .75rem;
}

.toc-sidebar h3 {
  font-size: 0.95rem;
  color: var(--accent);
  margin: .5rem 0 .25rem;
}

.toc-sidebar nav ul { list-style: none; padding: 0; margin: 0; }
.toc-sidebar nav li { margin: .15rem 0; }
.toc-sidebar nav a { display: block; color: var(--text); opacity: 1; font-size: 0.98rem; padding: .35rem .25rem; border-radius: 6px; }
.toc-sidebar nav a:hover { background: rgba(212, 175, 55, 0.12); text-decoration: none; }
.toc-sidebar nav a.active { background: rgba(212, 175, 55, 0.28); font-weight: 600; }

/* Push page content to the right when sidebar is present */
body.with-sidebar #page-wrap { margin-left: 260px; }

/* Panels and content containers */
.panel {
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 1.25rem;
  margin-bottom: 1rem;
}

.panel h2 { border-bottom: 1px solid var(--border); padding-bottom: .4rem; }
.panel p, .panel li { font-size: 1rem; }

/* Improve list marker contrast */
ul { list-style-position: outside; }
ul li::marker { color: var(--accent-strong); }

/* Template boxes and buttons */
.box { background: var(--panel-2) !important; color: var(--text) !important; border: 1px solid var(--border); }
.box.style1, .box.style2 { background: var(--panel-2) !important; }

.button, .actions .button, input[type=submit], input[type=reset], input[type=button] {
  color: #000 !important;
  border: 1px solid var(--accent-strong) !important;
  background: var(--accent-strong) !important;
}
.button:hover, .actions .button:hover, input[type=submit]:hover, input[type=reset]:hover, input[type=button]:hover {
  background: #ffdc70 !important;
  border-color: #ffdc70 !important;
  color: #000 !important;
}

/* Utilities */
.note { color: var(--muted) !important; }
.badge { display: inline-block; font-size: .75rem; padding: .15rem .5rem; border-radius: 999px; border: 1px solid var(--border); color: var(--muted); margin-left: .5rem; }
.pill { display: inline-block; padding: .18rem .55rem; border-radius: 999px; background: #141414; border: 1px solid var(--border); color: #ffffff; font-size: .78rem; }
.kbd { font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; background: #161616; border: 1px solid #484848; padding: .1rem .35rem; border-radius: 6px; font-size: .82rem; color: #fff; }
.foot { font-size: .9rem; color: var(--muted); }
strong { color: #ffffff; }

/* Grid helpers for figures */
.fig-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1rem; }
figure { margin: 0; background: #0c0c0c; border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
figure img { display: block; width: 100%; height: auto; }
figure figcaption { font-size: .9rem; color: var(--muted); padding: .6rem .8rem; border-top: 1px solid var(--border); }

/* HR contrast */
hr { border: 0; border-top: 1px solid var(--border); }

/* Inputs */
input, textarea, select { background: #111 !important; color: var(--text) !important; border: 1px solid #5a5a5a !important; }
input::placeholder, textarea::placeholder { color: #b0b0b0; }
label { color: var(--text) !important; }

/* Header area tuning */
#top header h1 { color: #fff !important; }
#top header p { color: var(--muted) !important; }

/* Responsive: collapse sidebar on small screens */
@media (max-width: 980px) {
  .toc-sidebar { position: static; height: auto; width: auto; border-right: none; border-bottom: 1px solid var(--border); }
  body.with-sidebar #page-wrap { margin-left: 0; }
  html, body { font-size: 17px; }
}

@media (min-width: 1400px) {
  html, body { font-size: 18px; }
}
